{% extends "base.html" %}

{% block headers %}
{{super()}}
<style type='text/css'>
table.auditreport { border-collapse: collapse; }
table.auditreport td, table.auditreport th { border: 1px solid #AAA; padding: 5px; }
table.auditreport .bold { font-weight: bold; }
</style>
{% endblock headers %}


{% block content %}
<h3>
{%- if event.courses > 1 -%}
Audit (Course {{course}}/Run Group {{group}})
{%- else -%}
Audit (Run Group {{group}})
{%- endif -%}
</h3>


<table class='auditreport'>
<thead><tr>
<th>First</th>
<th>Last</th>
<th>#</th>
<th>Cls</th>
{% for ii in range(event.runs) %}
	<th>Run{{ii+1}}</th>
{% endfor %}
</tr>
</thead>
<tbody>

{% for entrant in audit %}
	<tr>
	<td class='{{order == "firstname" and "bold" or ""}}'>{{entrant.firstname[:8]}}</td>
	<td class='{{order == "lastname" and "bold" or ""}}'>{{entrant.lastname[:8]}}</td>
	<td>{{entrant.number}}</td>
	<td>{{entrant.classcode}} ({{entrant.indexcode}})</td>

	{% for run in entrant.runs %}
		<td>
		{% if run %}
			{% if run.status != "OK" %}
				{{run.status}}
			{% else %}
				{{run.raw|t3}}
				({{run.cones}},{{run.gates}})
			{% endif %}
		{% endif %}
		</td>
	{% endfor %}
	
	</tr>
{% endfor %}

</tbody>
</table>

{% endblock content %}
